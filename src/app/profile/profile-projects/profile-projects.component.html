<!-- Описание проекта -->
<na-project *ngIf="projectMode"
  [projectId]="projectId"
  (returned)="projectMode = false"></na-project>

<div class="task" *ngIf="!this.common.user.demo"
  (click)="startDemoTask()">
  Demo Task
  <!-- Индикатор загрузки -->
  <!-- <span class="fa fa-cog fa-spin"></span> -->

  <!-- Дополнительная информация -->
  <div class="description">
    <span>Completed: 0%</span>
    <span>Earned: 0<span class="fa fa-fw"></span>/100<span class="fa fa-fw"></span></span>
  </div>

  <!-- Замочек -->
  <span class="fa fa-lock fa-5x"></span>
</div>

<!-- Список проектов -->
<div *ngIf="common.user.demo">
  <div *ngIf="!projectMode && isLoaded">
    <div *ngFor="let project of common.projects">
      <h1>{{ project.projectName }}</h1>
      <div class="task" *ngFor="let task of project.taskTypes; let i = index"
        [ngClass]="{locked: common.user.profile === 0 || i >= common.user.level || (common.user.taskTaken !== null && i !== common.user.taskTaken - 1)}"
        (click)="taskSelected(project, i)">
        {{ task.title }}
        <!-- Индикатор загрузки -->
        <span class="fa fa-cog fa-spin" *ngIf="loadingTask === i"></span>

        <!-- Дополнительная информация -->
        <div class="description">
          <span>Tasks Amount: {{ task.tasksAmount }}</span>
          <span *ngIf="common.user.taskTaken !== null && i === common.user.taskTaken - 1">Completed: {{ project.annoTask.percentage }}%</span>
          <span *ngIf="common.user.taskTaken !== null && i === common.user.taskTaken - 1">
            Earned: {{ project.annoTask.earned }}/{{ project.annoTask.price }}<span class="fa fa-rub"></span>
          </span>
          <span *ngIf="common.user.taskTaken === null || i !== common.user.taskTaken - 1">
            Price: {{ task.price * task.tasksAmount }}<span class="fa fa-rub"></span>
          </span>
          <span *ngIf="common.user.taskTaken === null || i !== common.user.taskTaken - 1">Estimated work time: {{ task.EWT }} min</span>
        </div>

        <!-- Замочек -->
        <span class="fa fa-lock fa-5x"></span>
      </div>
      <!-- <span (click)="viewProjectDescription(i)"></span> -->
    </div>
  </div>

  <!-- Индикатор загрузки страницы -->
  <na-loader-big *ngIf="!isLoaded"></na-loader-big>
</div>